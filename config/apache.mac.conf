<VirtualHost *:80>
    include /Users/slnc/workspace/gamersmafia/config/apache.common.conf

    ServerName gamersmafia.dev
    ServerAlias *.gamersmafia.dev
    DocumentRoot /Users/slnc/workspace/gamersmafia/public

    <Directory "/Users/slnc/workspace/gamersmafia/public">
        Options FollowSymLinks
        AllowOverride None
        Order allow,deny
        Allow from all
    </Directory>

    <Directory "/Users/slnc/workspace/gamersmafia/public/storage/downloads">
        ForceType application/octet-stream 
        Header set Content-Disposition attachment
    </Directory>

    CustomLog "|/usr/local/hosting/bin/rotatelogs /var/log/apache/gamersmafia.dev/access-%Y%m%d%H%M.log 86400" gm env=!image-request
    ErrorLog "|/usr/local/hosting/bin/rotatelogs /var/log/apache/gamersmafia.dev/error-%Y%m%d.log 86400"

    PassengerDefaultUser slnc
        
    # In production we might not have a config/REVISION file therefore versioned assets
    # urls will look like app.HEAD.js instead of app.<HASH>.js.
    RewriteRule ^(.*\.)HEAD\.(css|js|gif|png|jpg)$    /$1$2   [L]
    RewriteRule ^(.*\.)HEAD\.(css|js|gif|png|jpg)$    /$1$2   [L]    
</VirtualHost>
